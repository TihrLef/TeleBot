{% extends "base_generic.html" %}
{% block head %}
{% load static %}
<script type="text/javascript" src="{% static 'js/sortTable.js' %}"></script>
{% endblock %}
{% block content %}
  <style type="text/css">
   TABLE {
    border-collapse: collapse; /* Убираем двойные линии между ячейками */
    border: 5px groove #ccc; /* Рамка вокруг таблицы */
   }
   TH {
    background: #4b0082; /* Цвет фона */
    color: #fffff0; /* Цвет текста */
	
   }
   TD, TH {
    height: 50px;
    padding: 8px; /* Поля вокруг содержимого ячеек */
    border: 5px groove #ccc; /* Граница между ячейками */
	border-left:0;
	border-right:0;
   }
	th.sorted[data-order="-1"]::after {
		content: "▼"
	}

	th.sorted[data-order="1"]::after {
		content: "▲"
	}
	a.mya
	{	font-family:Arial;
		font-weight: bold;
		text-decoration: none;
		color:#6495ed;
		font-size:21px;
	}
	a.mya:hover
	{	font-family:Arial;
		font-size:22px;
		color:#0f93ff;
	}
	</style>
	<br>
	<h1 align = center>Список человеков</h1>
	<br>
    {% if user_list %}
	<table align = center width = 85% cellspacing="0" border="2" id="myTable">
		<tr>
			<th width = 25% onclick="sortTable(0)"  align=left>Nickname</th>
			<th width = 20% onclick="sortTable(1)"  align=left>Имя</th>
			<th width = 20% onclick="sortTable(2)">Фамилия</th>
			<th width = 15% onclick="sortTable(3)">Роль<br></th>
			<th width = 10% onclick="sortTable(4)">Число<br>проектов</th>
			<th width = 10% onclick="sortTable(5)">Число<br>отчётов</th>
		</tr> 
      {% for us in user_list %}
      <tr>
        <td><a class="mya" href="{{ us.get_absolute_url }}">{{ us.username }}</a></td>
		<td>				{{us.first_name}}</a></td>
		<td align=center>	{{us.last_name}}</td>
		<td align=center>	{{us.role}}</td>
		<td align=center>	{{us.project_set.all.count}}</td>
		<td align=center>	{{us.report_set.all.count}}</td>
      </tr>
      {% endfor %}
	</table>
	<br><br>
	<h2 align = center> Всё! Больше человеков нет! </h2>
	
    {% else %}
      <p>Новых пользователей нет</p>
    {% endif %} 
 
{% endblock %}

